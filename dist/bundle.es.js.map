{"version":3,"file":"bundle.es.js","sources":["../src/index.js"],"sourcesContent":["import objectAssign from 'object-assign';\n\nimport {\n    createPointCB,\n    pointInside\n} from 'dom-plane';\n\nexport function getPointState(el){\n    return pointState(el);\n}\n\nexport function getGlobalPointStateFactory(){\n    let windowPoint = null;\n    return function getGlobalPointState(){\n        if(windowPoint === null){\n            windowPoint = pointState(window);\n        }\n        return windowPoint;\n    };\n}\n\nfunction pointState(element){\n\n    let point = {},\n        pointCB = createPointCB(point),\n        down = false,\n        alive = true,\n        insideThis = false;\n\n    element.addEventListener('mousemove', pointCB, false);\n    element.addEventListener('touchmove', pointCB, false);\n    element.addEventListener('mousedown', onDown, false);\n    element.addEventListener('touchstart', onDown, false);\n    element.addEventListener('mouseup', onUp, false);\n    element.addEventListener('touchend', onUp, false);\n    element.addEventListener('mouseleave', onMouseOut, false);\n    element.addEventListener('mouseover', onMouseOver, false);\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n    }\n\n    function onMouseOut(){\n        insideThis = false;\n    }\n\n    function onMouseOver(){\n        insideThis = true;\n    }\n\n    Object.defineProperty(point, 0, {\n        get(){ return point.x; },\n        enumerable: true\n    });\n\n    Object.defineProperty(point, 1, {\n        get(){ return point.y; },\n        enumerable: true\n    });\n\n    Object.defineProperty(point, 'length', {\n        value: 2,\n        enumerable: true\n    });\n\n    Object.defineProperty(point, 'down', {\n        get(){\n            return down;\n        },\n        enumerable: true\n    });\n\n    Object.defineProperty(point, 'up', {\n        get(){\n            return !down;\n        },\n        enumerable: true\n    });\n\n    Object.defineProperty(point, 'alive', {\n        get(){\n            return alive;\n        },\n        enumerable: true\n    });\n\n    return objectAssign(point, {\n        inside(el){\n            if(el === element){\n                return insideThis;\n            }\n            return pointInside(point, el);\n        },\n        destroy(){\n            alive = false;\n            element.removeEventListener('mousemove', pointCB, false);\n            element.removeEventListener('touchmove', pointCB, false);\n            element.removeEventListener('mousedown', onDown, false);\n            element.removeEventListener('touchstart', onDown, false);\n            element.removeEventListener('mouseup', onUp, false);\n            element.removeEventListener('touchend', onUp, false);\n            element.removeEventListener('mouseleave', onMouseOut, false);\n            element.removeEventListener('mouseover', onMouseOver, false);\n        }\n    });\n}\n"],"names":["let"],"mappings":"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"}